## 谈谈你对浏览器中进程和线程的理解

**浏览器是多进程的**

* `Browse`进程：主进程，负责界面显示，用户交互，子进程管理等功能。
* `GPU`进程：用于`3DCSS`绘制。
* 第三方插件进程：每个类型的插件对应一个进程，仅插件被使用时创建，保证插件崩溃时不影响浏览器和页面正常运行。
* 网络进程：主要负责页面的网络资源加载，之前是作为一个模块放入浏览器进程当中。
* 浏览器渲染进程：核心任务是将 `HTML`、`CSS`和 `JavaScript` 转换为用户可以与之交互的网页，内部是多线程的，每打开一个新网页就会创建一个进程，主要用于页面渲染，脚本执行，事件处理等。

**渲染进程**

浏览器的渲染进程是多线程的，包括`GUI`线程，`JavaScript`引擎线程，异步`http`请求线程，定时器线程和事件触发线程。

* `GUI`线程：负责渲染浏览器页面，当页面需要回流或者重绘时会调用该线程。
* `JavaScript`引擎线程：负责处理`JavaScript`脚本程序，解析`JavaScript`脚本，执行代码等。
* 异步`http`请求线程：在XMLHttpRequest连接后通过浏览器开启一个新的线程，当检测到状态变更时，如果设置了回调函数，异步线程会产生状态变更事件，将回调函数放入事件队列中，再由`JavaScript`引擎进行执行。
* 定时器线程：`setInterval` 与 `setTimeout` 所在线程。因为JS引擎是单线程的，如果处于阻塞线程状态就会影响记计时的准确性；因此使用单独线程来计时并触发定时器，计时完毕后，添加到事件队列中，等待`JavaScript`引擎空闲后执行。
* 事件触发线程：用来控制浏览器事件循环，当事件被触发时，该线程会把事件添加到待处理队列的队尾，等待`JavaScript`引擎处理。