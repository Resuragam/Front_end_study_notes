## 浏览器本地存储

### 1. 浏览器本地存储方式

#### Cookie

`Cookie`最开始并不是用于本地存储，而且为了弥补`HTTP`在状态管理上的不足。

> HTTP是一个无状态的协议，客户端向服务器发送请求，服务器返回响应，但是下一次发送请求时服务端就无法识别客户端的身份信息，故而产生了Cookie。

**Cookie的特性：**

* `Cookie`一旦创建，名称就无法修改。
* `Cookie`是无法跨域名的，不同域名之间的`Cookie`无法共享，保证`Cookie`的安全性，不会被其他网站随意获取。
* 每个`Cookie`的大小不超过4kb，每个域名下的`Cookie`不超过20个。
* `Cookie`存在安全问题，`Cookie`在浏览器与服务器之间以文本的方式进行传输，容易被非法用户截取，进行篡改。
* `Cookie`存在性能问题，每一次请求新页面都会发送`Cookie`。

#### LocalStorage

`LocalStorage`是`HTML5`引入的新特性，可以解决`Cookie`容量问题。

`LocalStorage`以字符串形式存储在本地当中，如果存储对象，需要`JSON.stringify()`方法转化，`JSON.parse()`方法进行解析。

**LocalStorage的优点**

* `LocalStorage`的容量一般为5M，可以存储更多的信息。
* `LocalStorage`的数据是持久存储，除非手动的清除。
* `LocalStorage`仅存储在本地，不会被`HTTP`请求所携带。

**LocalStorage的缺点**

* 存在浏览器兼容问题。
* 如果浏览器设置为隐私模式，将获取不到`LocalStorage`。
* 受到同源协议影响，非同源无法访问`LocalStorage`。

#### SessionStorage

`SessionStorage`主要用于存储同一窗口的数据，刷新页面不会刷新，当会话关闭时，数据会被删除。

**SessionStorage与LocalStorage对比：**

* `SessionStorage`和`LocalStorage`都在**本地进行数据存储**；
* `SessionStorage`也有同源策略的限制，但是`SessionStorage`有一条更加严格的限制，`SessionStorage`**只有在同一浏览器的同一窗口下才能够共享**
* `SessionStorage`的存储是会话级别的，一旦窗口关闭数据就会删除。